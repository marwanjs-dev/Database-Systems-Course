USE ZCOMPANY;

CREATE TABLE CUSTOMER(
	CUS_CODE INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
    CUS_LNAME CHAR(100),
    CUS_FNAME CHAR(100),
    CUS_INITIALS VARCHAR(1) NULL,
    CUS_AREACODE INT,
    CUS_PHONE VARCHAR(8) NOT NULL,
    CUS_BALANCE CHAR(10)
);
CREATE TABLE INVOICE(
	INV_NUMBER INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
    CUS_CODE INT,
    INV_DATE DATE NOT NULL,
    FOREIGN KEY (CUS_CODE)
        REFERENCES CUSTOMER (CUS_CODE)
);
CREATE TABLE VENDOR(
	V_CODE INT PRIMARY KEY,
    V_NAME CHAR(100),
    V_CONTACT CHAR(100),
    V_AREACODE INT,
    V_PHONE CHAR(8),
    V_STATE CHAR(2),
    V_ORDER CHAR(1),
    CHECK (V_ORDER in ('Y','N'))
);

CREATE TABLE PRODUCT(
	P_CODE VARCHAR(8) PRIMARY KEY,
    P_DESCRIPT CHAR(100),
    P_INDATE DATE,
    P_ONHAND INT,
    P_MIN INT,
    P_PRICE CHAR(100),
    P_DISCOUNT INT,
    V_CODE INT NULL,
    FOREIGN KEY (V_CODE)
        REFERENCES VENDOR (V_CODE)
);
CREATE TABLE LINE(
	INV_NUMBER INT AUTO_INCREMENT,
    LINE_NUMBER INT,
    P_CODE VARCHAR(8) NOT NULL,
    LINE_UNITS INT,
    LINE_PRICE CHAR(100),
    FOREIGN KEY (INV_NUMBER)
        REFERENCES INVOICE (INV_NUMBER),
	FOREIGN KEY (P_CODE)
        REFERENCES PRODUCT (P_CODE)
);

ALTER TABLE LINE add primary key(INV_NUMBER, P_CODE);

ALTER TABLE INVOICE
MODIFY INV_DATE CHAR(100);

ALTER TABLE PRODUCT
MODIFY P_INDATE CHAR(100);

ALTER TABLE LINE
ADD PRIMARY KEY (INV_NUMBER);


ALTER TABLE CUSTOMER AUTO_INCREMENT = 1010;
ALTER TABLE INVOICE AUTO_INCREMENT = 1000;


INSERT INTO CUSTOMER (CUS_LNAME, CUS_FNAME, CUS_INITIALS, CUS_AREACODE, CUS_PHONE, CUS_BALANCE) 
VALUES 
	('RAMAS','ALFRED','A','615','844-2573','$0.00'),
	('DUNCC','ALFRED','K','713','844-2573','$0.00'),
	('SMITH','ALFRED','W','615','844-2573','$345.88'),
	('OLOWSKI','ALFRED','F','615','844-2573','$536.75'),
	('ORLANDO','ALFRED',NULL,'615','844-2573','$0.00'),
	('OBRIAN','ALFRED','B','713','844-2573','$0.00'),
	('BROWN','ALFRED','G','615','844-2573','$221.19'),
	('WILLIAMS','ALFRED',NULL,'615','844-2573','$768.093'),
	('FARRISS','ALFRED','G','713','844-2573','$216.55'),
	('SMITH','ALFRED','K','615','844-2573','$0.00');

INSERT INTO INVOICE (CUS_CODE, INV_DATE)
VALUES 
	(1014, "WEDNESDAY, AUGUST 18, 1999"),
    (1011, "WEDNESDAY, AUGUST 18, 1999"),
    (1012, "WEDNESDAY, AUGUST 18, 1999"),
    (1011, "THURSDAY, AUGUST 19, 1999"),
    (1018, "WEDNESDAY, AUGUST 19, 1999"),
    (1014, "WEDNESDAY, AUGUST 19, 1999"),
    (1015, "WEDNESDAY, AUGUST 19, 1999"),
    (1011, "WEDNESDAY, AUGUST 19, 1999");

INSERT INTO VENDOR (V_CODE, V_NAME,V_CONTACT, V_AREACODE, V_PHONE, V_STATE, V_ORDER)
VALUES 
	(21225, 'BRYSON, INC', 'SMITHSON', 615, '223-3234', 'TN', 'Y'),
    (21226, 'SUPERLOO, INC', 'FLUSHING', 904, '215-8995', 'FL', 'N'),
    (21231, 'D&E SUPPLY', 'SINGH', 615, '228-3245', 'TN', 'Y'),
    (21344, 'GOMEZ, BROS', 'ORTEGA', 615, '889-2546', 'KY', 'N'),
    (22567, 'DOME, SUPPLY', 'SMITH', 901, '678-1419', 'GA', 'N'),
    (23119, 'RANDSETS, LTD', 'ANDERSON', 901, '678-3998', 'GA', 'Y'),
    (24004, 'BRACKMAN, BROS', 'BROWNING', 615, '228-1410', 'TN', 'N'),
    (24288, 'ORDVA, INC', 'HAKFORD', 615, '898-1234', 'TN', 'Y'),
    (25443, 'B&K, INC', 'SMITH', 904, '227-0093', 'FL', 'N'),
    (25501, 'DAMMAL, SUPPLIES', 'SMYTHE', 615, '890-3529', 'TN', 'N'),
    (25595, 'RUBICON, SIS', 'ORTON', 615, '456-0092', 'FL', 'Y');
    
INSERT INTO PRODUCT (P_CODE, P_DESCRIPT, P_INDATE, P_ONHAND, P_MIN, P_PRICE, P_DISCOUNT, V_CODE)
VALUES 
	('11QER/31', 'Power painter, 15 psi. 3-nozzle',  '03-Nov-01', 8,   5,   '109.99', 0.00, 25595),
	('13-Q2/P2', "7.25-in. pwr. saw blade",          '13-Dec-01', 32,  15,  '14.99',  0.05, 21344),
	('14-Q1/L3', '— 9.00-in. pwr. saw blade',        '13-Nov-01', 18,  12,  '17.48',  0.00, 21344),
	('1546-QQ2', 'Hed. cloth, 1/4-in., 2x50',        '16-Jan-02', 15,  8,   '39.9',   0.00, 23119),
	('1558-QW1', 'Hrd. cloth, 1/2-in., 3x50',        '15-Jan-02', 23,  5,   '43.99',  0.00, 23119),
	('2232/QTY', 'B&D jigsaw, 12-in. blade',         '30-Dec-01', 8,   5,   '109.92', 0.05, 24288),
	('2232/QWE', 'B&D jigsaw, Gin. blade',           '24-Dec-01', 6,   5,   '99.67',  0.05, 24288),
	('2238/QPD', 'B&D cordless drill, 1/2-in',       '20-Jan-02', 12,  5,   '38.9',   0.05, 25595),
	('23109-HB', 'Claw hammer',                      '20-Jan-02', 23,  10,  '99.95',  0.10, 21225),
	('23114-AA', 'Sledge hammer, 12 Ib.',            '02-Jan-02', 8,   5,   '14.40',  0.05, NULL),
	('54778-2T', '—_Rat-tail fle, 18-in. fine',      '15-Dec-01', 43,  20,  '4.99',   0.00, 21344),
	('89-WRE-Q', 'Hicut chain saw, 16 in.',          '07-Feb-02', 11,  5,   '256.99', 0.05, 24288),
	('PVC23DRT', 'PVC pipe, 3.5-in., 8-ft',          '20-Feb-02', 188, 75,  '5.87',   0.00, NULL),
	('SM-18277', '1.25-in. metal screw, 25',         '01-Mar-02', 172, 75,  '6.99',   0.00, 21225),
	('SW-23116', '2.5-in. wd. screw, 50',            '24-Feb-02', 237, 100, '8.45',   0.00, 21231),
	('WR3/TT3',  'Steel matting, 4’x8x146" 5” mesh', '17-Jan-02', 18,  5,   '119.95', 0.10, 25595);
    
INSERT INTO LINE(INV_NUMBER, LINE_NUMBER, P_CODE, LINE_UNITS, LINE_PRICE)
VALUES 
	(1001, 1, '13-Q2/P2', 1, '14.93'),
	(1001, 2, '23109-HB', 1, '9.95'),
	(1002, 1, '54778-2T', 2, '4.99'),
	(1003, 1, '2238/QPD', 1, '38.95'),
	(1003, 2, '1546-QQ2', 1, '39.95'),
	(1003, 3, '13-Q2/P2', 5, '14.99'),
	(1004, 1, '54778-2T', 3, '4.99'),
	(1004, 2, '23109-HB', 2, '9.95'),
	(1005, 1, 'PVC23DRT', 12, '5.87'),
	(1006, 1, 'SM-18277', 3, '6.99'),
	(1006, 2, '2232/QTY', 1, '109.92'),
	(1006, 3, '23109-HB', 1, '9.95'),
	(1006, 4, '89-WRE-Q', 1, '256.99'),
	(1007, 1, '13-Q2/P2', 2, '14.99'),
	(1007, 2, '54778-2T', 1, '4.99'),
	(1008, 1, 'PVC23DRT', 5, '5.87'),
	(1008, 2, 'WR3/TT3',  3, '119.95'),
	(1008, 3, '23109-HB', 1, '9.95');

